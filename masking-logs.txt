[2025-07-09T13:29:41.332Z] [DataMaskingAgent] HANDLER CALLED
Parameters: {
  "text": "Богатырев работает в ФНС",
  "action": "mask"
}
================================================================================
[2025-07-09T13:29:41.333Z] [DataMaskingAgent] DataMaskingAgent initialized
{
  "sessionId": "657de378-23e4-4cfc-8239-32c48f018e05",
  "patternsCount": 13,
  "patterns": [
    "ФНС",
    "Киргизия",
    "Таджикистан",
    "НДС",
    "Богатырев\\s+Олег\\s+Геннадиевич",
    "Богатырев\\s+ОГ",
    "Богатырев",
    "Егорич[её]в[ауе]?",
    "Егоров[ауе]?",
    "Шепелев[ауой]?",
    "[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,}",
    "\\d{3}-\\d{3}-\\d{4}",
    "\\d{3}-\\d{2}-\\d{4}"
  ]
}
================================================================================
[2025-07-09T13:29:41.342Z] [DataMaskingAgent] PROCESSING REQUEST
{
  "action": "mask",
  "textLength": 24,
  "sessionId": "657de378-23e4-4cfc-8239-32c48f018e05",
  "text": "Богатырев работает в ФНС"
}
================================================================================
[2025-07-09T13:29:41.342Z] [DataMaskingAgent] Starting mask operation
{
  "inputText": "Богатырев работает в ФНС",
  "inputLength": 24
}
================================================================================
[2025-07-09T13:29:41.342Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "ФНС",
  "maskType": "[TAX_SERVICE]"
}
================================================================================
[2025-07-09T13:29:41.343Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "ФНС",
  "matchCount": 1,
  "matches": [
    "ФНС"
  ]
}
================================================================================
[2025-07-09T13:29:41.343Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "Киргизия",
  "maskType": "[COUNTRY_KG]"
}
================================================================================
[2025-07-09T13:29:41.344Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "Киргизия",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:29:41.344Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "Таджикистан",
  "maskType": "[COUNTRY_TJ]"
}
================================================================================
[2025-07-09T13:29:41.344Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "Таджикистан",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:29:41.344Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "НДС",
  "maskType": "[VAT_TAX]"
}
================================================================================
[2025-07-09T13:29:41.344Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "НДС",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:29:41.344Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "Богатырев\\s+Олег\\s+Геннадиевич",
  "maskType": "[PERSON_FULL_1]"
}
================================================================================
[2025-07-09T13:29:41.344Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "Богатырев\\s+Олег\\s+Геннадиевич",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:29:41.344Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "Богатырев\\s+ОГ",
  "maskType": "[PERSON_INIT_1]"
}
================================================================================
[2025-07-09T13:29:41.344Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "Богатырев\\s+ОГ",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:29:41.345Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "Богатырев",
  "maskType": "[PERSON_LAST_1]"
}
================================================================================
[2025-07-09T13:29:41.345Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "Богатырев",
  "matchCount": 1,
  "matches": [
    "Богатырев"
  ]
}
================================================================================
[2025-07-09T13:29:41.345Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "Егорич[её]в[ауе]?",
  "maskType": "[PERSON_LAST_3]"
}
================================================================================
[2025-07-09T13:29:41.345Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "Егорич[её]в[ауе]?",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:29:41.345Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "Егоров[ауе]?",
  "maskType": "[PERSON_LAST_2]"
}
================================================================================
[2025-07-09T13:29:41.345Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "Егоров[ауе]?",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:29:41.345Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "Шепелев[ауой]?",
  "maskType": "[PERSON_LAST_4]"
}
================================================================================
[2025-07-09T13:29:41.345Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "Шепелев[ауой]?",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:29:41.345Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,}",
  "maskType": "[EMAIL]"
}
================================================================================
[2025-07-09T13:29:41.346Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,}",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:29:41.346Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "\\d{3}-\\d{3}-\\d{4}",
  "maskType": "[PHONE]"
}
================================================================================
[2025-07-09T13:29:41.346Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "\\d{3}-\\d{3}-\\d{4}",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:29:41.346Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "\\d{3}-\\d{2}-\\d{4}",
  "maskType": "[SSN]"
}
================================================================================
[2025-07-09T13:29:41.346Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "\\d{3}-\\d{2}-\\d{4}",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:29:41.346Z] [DataMaskingAgent] MASKING OPERATION COMPLETED
{
  "originalText": "Богатырев работает в ФНС",
  "maskedText": "PERSON_LAST__28221a77 работает в TAX_SERVICE_f3378ff9",
  "maskingResults": [
    {
      "original": "ФНС",
      "masked": "TAX_SERVICE_f3378ff9",
      "type": "[TAX_SERVICE]",
      "pattern": "ФНС"
    },
    {
      "original": "Богатырев",
      "masked": "PERSON_LAST__28221a77",
      "type": "[PERSON_LAST_1]",
      "pattern": "Богатырев"
    }
  ],
  "totalMatches": 2,
  "changed": true
}
================================================================================
[2025-07-09T13:29:41.346Z] [DataMaskingAgent] PROCESSING COMPLETED
{
  "action": "mask",
  "success": true,
  "resultKeys": [
    "maskedText",
    "maskingResults"
  ]
}
================================================================================
[2025-07-09T13:29:41.346Z] [DataMaskingAgent] HANDLER SUCCESS
{
  "executionTime": 14,
  "resultSize": 342
}
================================================================================
[2025-07-09T13:30:55.394Z] [DataMaskingAgent] HANDLER CALLED
Parameters: {
  "text": "ФНС устроили большое событие по случаю введения НДС",
  "action": "mask"
}
================================================================================
[2025-07-09T13:30:55.395Z] [DataMaskingAgent] DataMaskingAgent initialized
{
  "sessionId": "20cc53f9-ed1c-4282-a530-bbb07ef0e9bb",
  "patternsCount": 13,
  "patterns": [
    "ФНС",
    "Киргизия",
    "Таджикистан",
    "НДС",
    "Богатырев\\s+Олег\\s+Геннадиевич",
    "Богатырев\\s+ОГ",
    "Богатырев",
    "Егорич[её]в[ауе]?",
    "Егоров[ауе]?",
    "Шепелев[ауой]?",
    "[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,}",
    "\\d{3}-\\d{3}-\\d{4}",
    "\\d{3}-\\d{2}-\\d{4}"
  ]
}
================================================================================
[2025-07-09T13:30:55.395Z] [DataMaskingAgent] PROCESSING REQUEST
{
  "action": "mask",
  "textLength": 51,
  "sessionId": "20cc53f9-ed1c-4282-a530-bbb07ef0e9bb",
  "text": "ФНС устроили большое событие по случаю введения НДС"
}
================================================================================
[2025-07-09T13:30:55.396Z] [DataMaskingAgent] Starting mask operation
{
  "inputText": "ФНС устроили большое событие по случаю введения НДС",
  "inputLength": 51
}
================================================================================
[2025-07-09T13:30:55.396Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "ФНС",
  "maskType": "[TAX_SERVICE]"
}
================================================================================
[2025-07-09T13:30:55.396Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "ФНС",
  "matchCount": 1,
  "matches": [
    "ФНС"
  ]
}
================================================================================
[2025-07-09T13:30:55.396Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "Киргизия",
  "maskType": "[COUNTRY_KG]"
}
================================================================================
[2025-07-09T13:30:55.397Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "Киргизия",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:30:55.397Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "Таджикистан",
  "maskType": "[COUNTRY_TJ]"
}
================================================================================
[2025-07-09T13:30:55.397Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "Таджикистан",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:30:55.397Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "НДС",
  "maskType": "[VAT_TAX]"
}
================================================================================
[2025-07-09T13:30:55.398Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "НДС",
  "matchCount": 1,
  "matches": [
    "НДС"
  ]
}
================================================================================
[2025-07-09T13:30:55.398Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "Богатырев\\s+Олег\\s+Геннадиевич",
  "maskType": "[PERSON_FULL_1]"
}
================================================================================
[2025-07-09T13:30:55.398Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "Богатырев\\s+Олег\\s+Геннадиевич",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:30:55.398Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "Богатырев\\s+ОГ",
  "maskType": "[PERSON_INIT_1]"
}
================================================================================
[2025-07-09T13:30:55.399Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "Богатырев\\s+ОГ",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:30:55.399Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "Богатырев",
  "maskType": "[PERSON_LAST_1]"
}
================================================================================
[2025-07-09T13:30:55.399Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "Богатырев",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:30:55.399Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "Егорич[её]в[ауе]?",
  "maskType": "[PERSON_LAST_3]"
}
================================================================================
[2025-07-09T13:30:55.400Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "Егорич[её]в[ауе]?",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:30:55.400Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "Егоров[ауе]?",
  "maskType": "[PERSON_LAST_2]"
}
================================================================================
[2025-07-09T13:30:55.400Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "Егоров[ауе]?",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:30:55.400Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "Шепелев[ауой]?",
  "maskType": "[PERSON_LAST_4]"
}
================================================================================
[2025-07-09T13:30:55.400Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "Шепелев[ауой]?",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:30:55.400Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,}",
  "maskType": "[EMAIL]"
}
================================================================================
[2025-07-09T13:30:55.400Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,}",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:30:55.400Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "\\d{3}-\\d{3}-\\d{4}",
  "maskType": "[PHONE]"
}
================================================================================
[2025-07-09T13:30:55.400Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "\\d{3}-\\d{3}-\\d{4}",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:30:55.401Z] [DataMaskingAgent] Testing pattern
{
  "pattern": "\\d{3}-\\d{2}-\\d{4}",
  "maskType": "[SSN]"
}
================================================================================
[2025-07-09T13:30:55.401Z] [DataMaskingAgent] Pattern test result
{
  "pattern": "\\d{3}-\\d{2}-\\d{4}",
  "matchCount": 0,
  "matches": []
}
================================================================================
[2025-07-09T13:30:55.401Z] [DataMaskingAgent] MASKING OPERATION COMPLETED
{
  "originalText": "ФНС устроили большое событие по случаю введения НДС",
  "maskedText": "TAX_SERVICE_f73eca5c устроили большое событие по случаю введения VAT_TAX_ee296759",
  "maskingResults": [
    {
      "original": "ФНС",
      "masked": "TAX_SERVICE_f73eca5c",
      "type": "[TAX_SERVICE]",
      "pattern": "ФНС"
    },
    {
      "original": "НДС",
      "masked": "VAT_TAX_ee296759",
      "type": "[VAT_TAX]",
      "pattern": "НДС"
    }
  ],
  "totalMatches": 2,
  "changed": true
}
================================================================================
[2025-07-09T13:30:55.401Z] [DataMaskingAgent] PROCESSING COMPLETED
{
  "action": "mask",
  "success": true,
  "resultKeys": [
    "maskedText",
    "maskingResults"
  ]
}
================================================================================
[2025-07-09T13:30:55.401Z] [DataMaskingAgent] HANDLER SUCCESS
{
  "executionTime": 7,
  "resultSize": 346
}
================================================================================
[2025-07-09T13:40:31.719Z] [Session: 298a8935-b0a6-47c6-9075-2b9f9eeb0b16] MIDDLEWARE HANDLER STARTED
{
  "query": "Богатырев Олег Геннадиевич работает в ФНС и обрабатывает НДС",
  "timestamp": "2025-07-09T13:40:31.719Z"
}
================================================================================
[2025-07-09T13:40:31.729Z] [Session: 298a8935-b0a6-47c6-9075-2b9f9eeb0b16] MASKING INPUT
{
  "originalText": "Богатырев Олег Геннадиевич работает в ФНС и обрабатывает НДС"
}
================================================================================
[2025-07-09T13:40:31.730Z] [Session: 298a8935-b0a6-47c6-9075-2b9f9eeb0b16] PATTERN MATCHED
{
  "original": "ФНС",
  "masked": "[TAX_SERVICE]"
}
================================================================================
[2025-07-09T13:40:31.730Z] [Session: 298a8935-b0a6-47c6-9075-2b9f9eeb0b16] PATTERN MATCHED
{
  "original": "НДС",
  "masked": "[VAT_TAX]"
}
================================================================================
[2025-07-09T13:40:31.730Z] [Session: 298a8935-b0a6-47c6-9075-2b9f9eeb0b16] PATTERN MATCHED
{
  "original": "Богатырев Олег Геннадиевич",
  "masked": "[PERSON_FULL_1]"
}
================================================================================
[2025-07-09T13:40:31.730Z] [Session: 298a8935-b0a6-47c6-9075-2b9f9eeb0b16] MASKING COMPLETED
{
  "originalText": "Богатырев Олег Геннадиевич работает в ФНС и обрабатывает НДС",
  "maskedText": "[PERSON_FULL_1] работает в [TAX_SERVICE] и обрабатывает [VAT_TAX]",
  "maskingResults": [
    {
      "original": "ФНС",
      "masked": "[TAX_SERVICE]",
      "found": true
    },
    {
      "original": "НДС",
      "masked": "[VAT_TAX]",
      "found": true
    },
    {
      "original": "Богатырев Олег Геннадиевич",
      "masked": "[PERSON_FULL_1]",
      "found": true
    }
  ],
  "totalMasked": 3
}
================================================================================
[2025-07-09T13:40:31.731Z] [Session: 298a8935-b0a6-47c6-9075-2b9f9eeb0b16] SENDING TO LLM
{
  "maskedQuery": "[PERSON_FULL_1] работает в [TAX_SERVICE] и обрабатывает [VAT_TAX]"
}
================================================================================
[2025-07-09T13:40:31.731Z] [Session: 298a8935-b0a6-47c6-9075-2b9f9eeb0b16] LLM RESPONSE RECEIVED
{
  "response": "Я понимаю ваш вопрос о сотруднике. Работа в [TAX_SERVICE] связана с обработкой [VAT_TAX]. Это важная государственная служба, которая требует профессионализма и ответственности."
}
================================================================================
[2025-07-09T13:40:31.731Z] [Session: 298a8935-b0a6-47c6-9075-2b9f9eeb0b16] UNMASKING INPUT
{
  "maskedText": "Я понимаю ваш вопрос о сотруднике. Работа в [TAX_SERVICE] связана с обработкой [VAT_TAX]. Это важная государственная служба, которая требует профессионализма и ответственности."
}
================================================================================
[2025-07-09T13:40:31.731Z] [Session: 298a8935-b0a6-47c6-9075-2b9f9eeb0b16] PATTERN UNMASKED
{
  "masked": "[TAX_SERVICE]",
  "original": "ФНС"
}
================================================================================
[2025-07-09T13:40:31.732Z] [Session: 298a8935-b0a6-47c6-9075-2b9f9eeb0b16] PATTERN UNMASKED
{
  "masked": "[VAT_TAX]",
  "original": "НДС"
}
================================================================================
[2025-07-09T13:40:31.732Z] [Session: 298a8935-b0a6-47c6-9075-2b9f9eeb0b16] UNMASKING COMPLETED
{
  "maskedText": "Я понимаю ваш вопрос о сотруднике. Работа в [TAX_SERVICE] связана с обработкой [VAT_TAX]. Это важная государственная служба, которая требует профессионализма и ответственности.",
  "unmaskedText": "Я понимаю ваш вопрос о сотруднике. Работа в ФНС связана с обработкой НДС. Это важная государственная служба, которая требует профессионализма и ответственности.",
  "unmaskingResults": [
    {
      "masked": "[TAX_SERVICE]",
      "original": "ФНС",
      "restored": true
    },
    {
      "masked": "[VAT_TAX]",
      "original": "НДС",
      "restored": true
    }
  ],
  "totalUnmasked": 2
}
================================================================================
[2025-07-09T13:40:31.732Z] [Session: 298a8935-b0a6-47c6-9075-2b9f9eeb0b16] MIDDLEWARE PROCESSING COMPLETED
{
  "userQuery": "Богатырев Олег Геннадиевич работает в ФНС и обрабатывает НДС",
  "maskedQuery": "[PERSON_FULL_1] работает в [TAX_SERVICE] и обрабатывает [VAT_TAX]",
  "llmResponse": "Я понимаю ваш вопрос о сотруднике. Работа в [TAX_SERVICE] связана с обработкой [VAT_TAX]. Это важная государственная служба, которая требует профессионализма и ответственности.",
  "finalResponse": "Я понимаю ваш вопрос о сотруднике. Работа в ФНС связана с обработкой НДС. Это важная государственная служба, которая требует профессионализма и ответственности.",
  "processingDetails": {
    "maskingApplied": true,
    "unmaskingApplied": true,
    "maskingResults": [
      {
        "original": "ФНС",
        "masked": "[TAX_SERVICE]",
        "found": true
      },
      {
        "original": "НДС",
        "masked": "[VAT_TAX]",
        "found": true
      },
      {
        "original": "Богатырев Олег Геннадиевич",
        "masked": "[PERSON_FULL_1]",
        "found": true
      }
    ],
    "unmaskingResults": [
      {
        "masked": "[TAX_SERVICE]",
        "original": "ФНС",
        "restored": true
      },
      {
        "masked": "[VAT_TAX]",
        "original": "НДС",
        "restored": true
      }
    ],
    "executionTime": 13
  }
}
================================================================================
[2025-07-09T13:54:43.005Z] [Session: 3d33c36d-4679-4a2b-9cf7-3d55c45a72fa] MIDDLEWARE HANDLER STARTED
{
  "query": "Богатырев Олег Геннадиевич работает в ФНС и обрабатывает НДС",
  "timestamp": "2025-07-09T13:54:43.005Z"
}
================================================================================
[2025-07-09T13:54:43.015Z] [Session: 3d33c36d-4679-4a2b-9cf7-3d55c45a72fa] MASKING INPUT
{
  "originalText": "Богатырев Олег Геннадиевич работает в ФНС и обрабатывает НДС"
}
================================================================================
[2025-07-09T13:54:43.015Z] [Session: 3d33c36d-4679-4a2b-9cf7-3d55c45a72fa] PATTERN MATCHED
{
  "original": "ФНС",
  "masked": "[TAX_SERVICE]"
}
================================================================================
[2025-07-09T13:54:43.015Z] [Session: 3d33c36d-4679-4a2b-9cf7-3d55c45a72fa] PATTERN MATCHED
{
  "original": "НДС",
  "masked": "[VAT_TAX]"
}
================================================================================
[2025-07-09T13:54:43.016Z] [Session: 3d33c36d-4679-4a2b-9cf7-3d55c45a72fa] PATTERN MATCHED
{
  "original": "Богатырев Олег Геннадиевич",
  "masked": "[PERSON_FULL_1]"
}
================================================================================
[2025-07-09T13:54:43.016Z] [Session: 3d33c36d-4679-4a2b-9cf7-3d55c45a72fa] MASKING COMPLETED
{
  "originalText": "Богатырев Олег Геннадиевич работает в ФНС и обрабатывает НДС",
  "maskedText": "[PERSON_FULL_1] работает в [TAX_SERVICE] и обрабатывает [VAT_TAX]",
  "maskingResults": [
    {
      "original": "ФНС",
      "masked": "[TAX_SERVICE]",
      "found": true
    },
    {
      "original": "НДС",
      "masked": "[VAT_TAX]",
      "found": true
    },
    {
      "original": "Богатырев Олег Геннадиевич",
      "masked": "[PERSON_FULL_1]",
      "found": true
    }
  ],
  "totalMasked": 3
}
================================================================================
[2025-07-09T13:54:43.016Z] [Session: 3d33c36d-4679-4a2b-9cf7-3d55c45a72fa] SENDING TO LLM
{
  "maskedQuery": "[PERSON_FULL_1] работает в [TAX_SERVICE] и обрабатывает [VAT_TAX]"
}
================================================================================
[2025-07-09T13:54:43.017Z] [Session: 3d33c36d-4679-4a2b-9cf7-3d55c45a72fa] LLM RESPONSE RECEIVED
{
  "response": "Я понимаю ваш вопрос о сотруднике. Работа в [TAX_SERVICE] связана с обработкой [VAT_TAX]. Это важная государственная служба, которая требует профессионализма и ответственности."
}
================================================================================
[2025-07-09T13:54:43.017Z] [Session: 3d33c36d-4679-4a2b-9cf7-3d55c45a72fa] UNMASKING INPUT
{
  "maskedText": "Я понимаю ваш вопрос о сотруднике. Работа в [TAX_SERVICE] связана с обработкой [VAT_TAX]. Это важная государственная служба, которая требует профессионализма и ответственности."
}
================================================================================
[2025-07-09T13:54:43.017Z] [Session: 3d33c36d-4679-4a2b-9cf7-3d55c45a72fa] PATTERN UNMASKED
{
  "masked": "[TAX_SERVICE]",
  "original": "ФНС"
}
================================================================================
[2025-07-09T13:54:43.017Z] [Session: 3d33c36d-4679-4a2b-9cf7-3d55c45a72fa] PATTERN UNMASKED
{
  "masked": "[VAT_TAX]",
  "original": "НДС"
}
================================================================================
[2025-07-09T13:54:43.017Z] [Session: 3d33c36d-4679-4a2b-9cf7-3d55c45a72fa] UNMASKING COMPLETED
{
  "maskedText": "Я понимаю ваш вопрос о сотруднике. Работа в [TAX_SERVICE] связана с обработкой [VAT_TAX]. Это важная государственная служба, которая требует профессионализма и ответственности.",
  "unmaskedText": "Я понимаю ваш вопрос о сотруднике. Работа в ФНС связана с обработкой НДС. Это важная государственная служба, которая требует профессионализма и ответственности.",
  "unmaskingResults": [
    {
      "masked": "[TAX_SERVICE]",
      "original": "ФНС",
      "restored": true
    },
    {
      "masked": "[VAT_TAX]",
      "original": "НДС",
      "restored": true
    }
  ],
  "totalUnmasked": 2
}
================================================================================
[2025-07-09T13:54:43.018Z] [Session: 3d33c36d-4679-4a2b-9cf7-3d55c45a72fa] MIDDLEWARE PROCESSING COMPLETED
{
  "userQuery": "Богатырев Олег Геннадиевич работает в ФНС и обрабатывает НДС",
  "maskedQuery": "[PERSON_FULL_1] работает в [TAX_SERVICE] и обрабатывает [VAT_TAX]",
  "llmResponse": "Я понимаю ваш вопрос о сотруднике. Работа в [TAX_SERVICE] связана с обработкой [VAT_TAX]. Это важная государственная служба, которая требует профессионализма и ответственности.",
  "finalResponse": "Я понимаю ваш вопрос о сотруднике. Работа в ФНС связана с обработкой НДС. Это важная государственная служба, которая требует профессионализма и ответственности.",
  "processingDetails": {
    "maskingApplied": true,
    "unmaskingApplied": true,
    "maskingResults": [
      {
        "original": "ФНС",
        "masked": "[TAX_SERVICE]",
        "found": true
      },
      {
        "original": "НДС",
        "masked": "[VAT_TAX]",
        "found": true
      },
      {
        "original": "Богатырев Олег Геннадиевич",
        "masked": "[PERSON_FULL_1]",
        "found": true
      }
    ],
    "unmaskingResults": [
      {
        "masked": "[TAX_SERVICE]",
        "original": "ФНС",
        "restored": true
      },
      {
        "masked": "[VAT_TAX]",
        "original": "НДС",
        "restored": true
      }
    ],
    "executionTime": 13
  }
}
================================================================================
